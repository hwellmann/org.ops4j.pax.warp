<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<databaseChangeLog xmlns="http://www.ops4j.org/xml/ns/warp">
    <changeSet author="hwellmann (generated)" id="1418420373817-1">
        <createTable tableName="enumeration_type_value">
            <column name="type_id" type="BIGINT">
                <constraints nullable="false"/>
            </column>
            <column name="value_id" type="BIGINT">
                <constraints nullable="false"/>
            </column>
            <column name="ordinal" type="INT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="hwellmann (generated)" id="1418420373817-2">
        <createTable tableName="enumeration_value">
            <column name="id" type="BIGINT">
                <constraints nullable="false"/>
            </column>
            <column name="version" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="display_name" type="VARCHAR(255)"/>
            <column name="symbolic_name" type="VARCHAR(255)"/>
            <column name="type" type="BIGINT"/>
        </createTable>
    </changeSet>
    <changeSet author="hwellmann (generated)" id="1418420373817-3">
        <createTable tableName="hibernate_sequence">
            <column name="next_val" type="BIGINT"/>
        </createTable>
    </changeSet>
    <changeSet author="hwellmann (generated)" id="1418420373817-4">
        <createTable tableName="i18n_resource">
            <column name="symbolic_name" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
            <column name="description" type="LONGTEXT"/>
            <column name="escape_html" type="BIT(1)"/>
            <column name="force_line_breaks" type="BIT(1)"/>
            <column name="version" type="INT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="hwellmann (generated)" id="1418420373817-5">
        <createTable tableName="i18n_resource_value">
            <column name="language" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
            <column defaultValue="" name="resource_id" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
            <column name="status" type="VARCHAR(255)"/>
            <column name="value" type="LONGTEXT"/>
        </createTable>
    </changeSet>
    <changeSet author="hwellmann (generated)" id="1418420373817-6">
        <createTable tableName="product">
            <column name="id" type="BIGINT">
                <constraints nullable="false"/>
            </column>
            <column name="version" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="display_name" type="VARCHAR(255)"/>
            <column name="symbolic_name" type="VARCHAR(255)"/>
        </createTable>
    </changeSet>
    <changeSet author="hwellmann (generated)" id="1418420373817-7">
        <createTable tableName="product_category">
            <column name="id" type="BIGINT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="hwellmann (generated)" id="1418420373817-8">
        <createTable tableName="product_category_hierarchy">
            <column name="parent_id" type="BIGINT">
                <constraints nullable="false"/>
            </column>
            <column name="child_id" type="BIGINT">
                <constraints nullable="false"/>
            </column>
            <column name="child_ordinal" type="INT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="hwellmann (generated)" id="1418420373817-9">
        <createTable tableName="product_category_product">
            <column name="category_id" type="BIGINT">
                <constraints nullable="false"/>
            </column>
            <column name="product_id" type="BIGINT">
                <constraints nullable="false"/>
            </column>
            <column name="child_ordinal" type="INT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="hwellmann (generated)" id="1418420373817-10">
        <createTable tableName="product_product_property">
            <column name="product_id" type="BIGINT">
                <constraints nullable="false"/>
            </column>
            <column name="property_id" type="BIGINT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="hwellmann (generated)" id="1418420373817-11">
        <createTable tableName="product_property">
            <column name="id" type="BIGINT">
                <constraints nullable="false"/>
            </column>
            <column name="version" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="display_name" type="VARCHAR(255)"/>
            <column name="symbolic_name" type="VARCHAR(255)"/>
            <column name="dynamic" type="BIT(1)">
                <constraints nullable="false"/>
            </column>
            <column name="selectability" type="VARCHAR(255)"/>
            <column name="type" type="VARCHAR(255)"/>
        </createTable>
    </changeSet>
    <changeSet author="hwellmann (generated)" id="1418420373817-12">
        <createTable tableName="property_type">
            <column name="dtype" type="VARCHAR(31)">
                <constraints nullable="false"/>
            </column>
            <column name="id" type="BIGINT">
                <constraints nullable="false"/>
            </column>
            <column name="version" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="display_name" type="VARCHAR(255)"/>
            <column name="symbolic_name" type="VARCHAR(255)"/>
        </createTable>
    </changeSet>
    <changeSet author="hwellmann (generated)" id="1418420373817-13">
        <createTable tableName="sku">
            <column name="id" type="BIGINT">
                <constraints nullable="false"/>
            </column>
            <column name="version" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="sku_id" type="VARCHAR(255)"/>
            <column name="product" type="BIGINT"/>
        </createTable>
    </changeSet>
    <changeSet author="hwellmann (generated)" id="1418420373817-14">
        <createTable tableName="sku_property_value">
            <column name="sku" type="BIGINT">
                <constraints nullable="false"/>
            </column>
            <column name="property" type="BIGINT"/>
            <column name="value" type="VARCHAR(255)"/>
            <column name="property_name" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="hwellmann (generated)" id="1418420373817-15">
        <addColumn tableName="product_category">
            <column name="default_parent_category" type="BIGINT(19)"/>
        </addColumn>
    </changeSet>
    <changeSet author="hwellmann (generated)" id="1418420373817-16">
        <addPrimaryKey columnNames="type_id, ordinal" constraintName="PRIMARY" tableName="enumeration_type_value"/>
    </changeSet>
    <changeSet author="hwellmann (generated)" id="1418420373817-17">
        <addPrimaryKey columnNames="id" constraintName="PRIMARY" tableName="enumeration_value"/>
    </changeSet>
    <changeSet author="hwellmann (generated)" id="1418420373817-18">
        <addPrimaryKey columnNames="symbolic_name" constraintName="PRIMARY" tableName="i18n_resource"/>
    </changeSet>
    <changeSet author="hwellmann (generated)" id="1418420373817-19">
        <addPrimaryKey columnNames="language, resource_id" constraintName="PRIMARY" tableName="i18n_resource_value"/>
    </changeSet>
    <changeSet author="hwellmann (generated)" id="1418420373817-20">
        <addPrimaryKey columnNames="id" constraintName="PRIMARY" tableName="product"/>
    </changeSet>
    <changeSet author="hwellmann (generated)" id="1418420373817-21">
        <addPrimaryKey columnNames="id" constraintName="PRIMARY" tableName="product_category"/>
    </changeSet>
    <changeSet author="hwellmann (generated)" id="1418420373817-22">
        <addPrimaryKey columnNames="parent_id, child_ordinal" constraintName="PRIMARY" tableName="product_category_hierarchy"/>
    </changeSet>
    <changeSet author="hwellmann (generated)" id="1418420373817-23">
        <addPrimaryKey columnNames="category_id, child_ordinal" constraintName="PRIMARY" tableName="product_category_product"/>
    </changeSet>
    <changeSet author="hwellmann (generated)" id="1418420373817-24">
        <addPrimaryKey columnNames="id" constraintName="PRIMARY" tableName="product_property"/>
    </changeSet>
    <changeSet author="hwellmann (generated)" id="1418420373817-25">
        <addPrimaryKey columnNames="id" constraintName="PRIMARY" tableName="property_type"/>
    </changeSet>
    <changeSet author="hwellmann (generated)" id="1418420373817-26">
        <addPrimaryKey columnNames="id" constraintName="PRIMARY" tableName="sku"/>
    </changeSet>
    <changeSet author="hwellmann (generated)" id="1418420373817-27">
        <addPrimaryKey columnNames="sku, property_name" constraintName="PRIMARY" tableName="sku_property_value"/>
    </changeSet>
    <changeSet author="hwellmann (generated)" id="1418420373817-28">
        <addForeignKeyConstraint baseColumnNames="parent_id" baseTableName="product_category_hierarchy" constraintName="FK_59at87jsbrsjtj7jt0ixkjp6i" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="product_category"/>
    </changeSet>
    <changeSet author="hwellmann (generated)" id="1418420373817-29">
        <addForeignKeyConstraint baseColumnNames="product_id" baseTableName="product_category_product" constraintName="FK_5vefpll86j3volja6kwk4db5y" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="product"/>
    </changeSet>
    <changeSet author="hwellmann (generated)" id="1418420373817-30">
        <addForeignKeyConstraint baseColumnNames="child_id" baseTableName="product_category_hierarchy" constraintName="FK_67539lkb51d2y7gnrapfloiwj" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="product_category"/>
    </changeSet>
    <changeSet author="hwellmann (generated)" id="1418420373817-31">
        <addForeignKeyConstraint baseColumnNames="property" baseTableName="sku_property_value" constraintName="FK_79qk9rumrncq5332on6s8xpfg" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="product_property"/>
    </changeSet>
    <changeSet author="hwellmann (generated)" id="1418420373817-32">
        <addForeignKeyConstraint baseColumnNames="type_id" baseTableName="enumeration_type_value" constraintName="FK_7xus1qnbcsi06xg2m36abrdgj" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="property_type"/>
    </changeSet>
    <changeSet author="hwellmann (generated)" id="1418420373817-33">
        <addForeignKeyConstraint baseColumnNames="default_parent_category" baseTableName="product_category" constraintName="FK_a98wsrk80m4uy06cc3s20pny3" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="product_category"/>
    </changeSet>
    <changeSet author="hwellmann (generated)" id="1418420373817-34">
        <addForeignKeyConstraint baseColumnNames="product" baseTableName="sku" constraintName="FK_alwsfqvbwjfapyqc7qwokr0ig" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="product"/>
    </changeSet>
    <changeSet author="hwellmann (generated)" id="1418420373817-35">
        <addForeignKeyConstraint baseColumnNames="category_id" baseTableName="product_category_product" constraintName="FK_cnllfgnwefdlb1syor2wehnec" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="product_category"/>
    </changeSet>
    <changeSet author="hwellmann (generated)" id="1418420373817-36">
        <addForeignKeyConstraint baseColumnNames="type" baseTableName="enumeration_value" constraintName="FK_fgwqifdvj2rjklqlgg8rn53kc" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="property_type"/>
    </changeSet>
    <changeSet author="hwellmann (generated)" id="1418420373817-37">
        <addForeignKeyConstraint baseColumnNames="value_id" baseTableName="enumeration_type_value" constraintName="FK_fsa1go22ejgarfabfiox74m3f" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="enumeration_value"/>
    </changeSet>
    <changeSet author="hwellmann (generated)" id="1418420373817-38">
        <addForeignKeyConstraint baseColumnNames="sku" baseTableName="sku_property_value" constraintName="FK_md6bckkys37v3tiplp52y9831" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="sku"/>
    </changeSet>
    <changeSet author="hwellmann (generated)" id="1418420373817-39">
        <addForeignKeyConstraint baseColumnNames="resource_id" baseTableName="i18n_resource_value" constraintName="FK_o1r6ursua6f4vxyqybeauno4l" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="symbolic_name" referencedTableName="i18n_resource"/>
    </changeSet>
    <changeSet author="hwellmann (generated)" id="1418420373817-40">
        <addForeignKeyConstraint baseColumnNames="property_id" baseTableName="product_product_property" constraintName="FK_q01qtw6ql8frmj48c9tmk9g04" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="product_property"/>
    </changeSet>
    <changeSet author="hwellmann (generated)" id="1418420373817-41">
        <addForeignKeyConstraint baseColumnNames="product_id" baseTableName="product_product_property" constraintName="FK_qmogxekq2vlh8vmhiiay76tkq" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="product"/>
    </changeSet>
</databaseChangeLog>
